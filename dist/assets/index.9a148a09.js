import{k as B,d as F,m as k,r as c,p as q,w as C,c as S,f as i,g as r,h as u,u as a,q as I,s as N,i as l,b as R,t as K,j as U,v as j,x as E}from"./index.8b77f2a9.js";import{v as O}from"./validate.44e48ef5.js";const Q=n=>(I("data-v-37cedede"),n=n(),N(),n),z={class:"container"},D={class:"loginBox"},L=Q(()=>i("h2",null,"login",-1)),T={class:"submit-container"},A=U("\u767B\u9646"),G=F({setup(n){const h={username:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],password:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]},o=k({username:null,password:null}),p=c(),g=q(),_=c(),m=c(),y=j(),w=E();C(()=>w,s=>{const e=s.query;e&&(_.value=e.redirect,m.value=x(e))},{immediate:!0});function x(s){return Object.keys(s).reduce((e,t)=>(t!=="redirect"&&(e[t]=s[t]),e),{})}const f=async()=>{try{await O(p.value)&&g.login(o).then(()=>{y.push({path:_.value||"/",query:m.value})})}catch(s){console.error(s)}};return(s,e)=>{const t=l("el-input"),v=l("el-form-item"),b=l("el-form"),V=l("pac-btn");return R(),S("div",z,[i("div",D,[L,r(b,{rules:h,ref_key:"loginRef",ref:p,model:a(o),class:"pad-form",size:"large"},{default:u(()=>[r(v,{prop:"username"},{default:u(()=>[r(t,{modelValue:a(o).username,"onUpdate:modelValue":e[0]||(e[0]=d=>a(o).username=d),class:"pad-input",placeholder:"useName"},null,8,["modelValue"])]),_:1}),r(v,{prop:"password"},{default:u(()=>[r(t,{"show-password":"",class:"pad-input",modelValue:a(o).password,"onUpdate:modelValue":e[1]||(e[1]=d=>a(o).password=d),onKeyup:K(f,["enter"]),placeholder:"password"},null,8,["modelValue","onKeyup"])]),_:1})]),_:1},8,["model"]),i("div",T,[r(V,{class:"btn",onClick:f},{default:u(()=>[A]),_:1})])])])}}});var M=B(G,[["__scopeId","data-v-37cedede"]]);export{M as default};
